import{h as g,r as s,u,i as d,j as p}from"./firebase-9IY3dGcQ.js";import{F as b}from"./index-DVLnXPW8.js";import"./vendor-react-B6Cri9UH.js";import"./react-table-d7gCnYCw.js";const l="config/settings.json",n="adora_firebase_config_saved";let i=null,r=null;function c(){return r||(i=d(b,"adora-config"),r=p(i)),r}async function _(e){try{const t=c(),o=new Blob([JSON.stringify(e)],{type:"application/json"});await u(s(t,l),o),typeof localStorage<"u"&&localStorage.setItem(n,"1")}catch(t){console.warn("⚠️ Firebase config save failed (non-critical):",t)}}async function h(e){try{if(!((e==null?void 0:e.forceFetch)===!0)&&typeof localStorage<"u"&&!localStorage.getItem(n))return null;const o=c(),f=await(await g(s(o,l))).text(),a=JSON.parse(f);return a&&typeof a.minBookingThreshold=="number"&&a.rewardPricing?(typeof localStorage<"u"&&localStorage.setItem(n,"1"),a):null}catch{return null}}export{h as loadConfigFromFirebase,_ as saveConfigToFirebase};
