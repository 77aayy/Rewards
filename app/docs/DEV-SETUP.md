# تشغيل التطبيق — منفذ واحد

**المتصفحات المستهدفة:** التطبيق يستهدف المتصفحات الحديثة (آخر إصدارين من Chrome، Firefox، Safari، Edge) ويعتمد على واجهات مثل Fetch، localStorage، URLSearchParams، classList. للتفاصيل راجع `README.md` و `docs/BROWSER-SUPPORT.md`.

## أمر واحد للتطوير

من مجلد **`app`**:

```bash
npm run dev
```

- يشغّل **مزامنة المكافآت** (نسخ Rewards إلى `public/rewards/`) ثم **Vite**.
- **منفذ واحد:** http://localhost:5180 (منفذ هذا المشروع)

## الروابط

| الرابط | الصفحة |
|--------|--------|
| http://localhost:5180/ | نظام التحليل (رفع + تحليل) |
| http://localhost:5180/rewards/ | نظام المكافآت |

لا حاجة لـ 8080 ولا لـ proxy — كل شيء على **5180** (أو المنفذ الظاهر في الطرفية).

## عند التعديل على نظام المكافآت

1. **مرة واحدة بعد التعديل:** من مجلد `app`:
   ```bash
   npm run sync:rewards
   ```
   ثم حدّث الصفحة في المتصفح.

2. **أو (مراقبة تلقائية):** من مجلد `app/Rewards` شغّل في طرفية ثانية:
   ```bash
   npm run dev:watch
   ```
   عند كل حفظ سيُحدَّث `app/public/rewards/` — حدّث 5180/rewards/ في المتصفح.

## ملخص

- **سيرفر واحد:** Vite على 5180.
- **لا 8080:** المكافآت تُخدم من `app/public/rewards/`.
- **أمر التشغيل:** من `app` فقط: `npm run dev`.
